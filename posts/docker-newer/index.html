<!doctype html><html><head><title>å¼€å§‹ä½¿ç”¨Docker | CodeMist</title><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=keywords content="docker,web"><meta name=description content="Blog about Hugo, web design, CSS/SCSS, SEO, Tools"><link rel=stylesheet href=/lib/icofont/icofont.min.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/images/favicon.ico type=image/x-icon></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-YEDG0XLC2T"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YEDG0XLC2T")</script><body><header class=header-wrapper><div class=header><a class=site-title href=https://www.peterlau.xyz>CodeMist</a><div class=menu><ul class=menu-left><li class=menu-item><a href=/posts/>Posts</a></li><li class=menu-item>"I saw the best minds of my generation destroyed by madness"</li></ul><div class=menu-right><li class=menu-item><a href=/contact/>Contact</a></li></div></div></div></header><main class=main-wrapper><div class=main><section class=single><h1 class=title>å¼€å§‹ä½¿ç”¨Docker</h1><div class=tip><time datetime="2014-09-05 20:16:09 +0000 UTC">2014/09/05</time>
<span class=split>Â·</span>
<span>1034 words</span>
<span class=split>Â·</span>
<span>3 minutes to read</span></div><div class=taxonomies><div>Tags:
<a href=/tags/docker>docker</a>
<a href=/tags/web>web</a></div></div><hr><div class=content><h1 id=ä»€ä¹ˆæ˜¯-docker>ä»€ä¹ˆæ˜¯ Docker? <a href=#%e4%bb%80%e4%b9%88%e6%98%af-docker class=anchor>ğŸ”—</a></h1><p>Goè¯­è¨€ç¼–å†™çš„åº”ç”¨å®¹å™¨.æ‰€è°“åº”ç”¨å®¹å™¨,å°±æ˜¯å¯ä»¥åƒè™šæ‹Ÿæœºé‚£æ ·ä¸‹è½½ä¸‹æ¥,å·²ç»é…ç½®å¥½å¤§éƒ¨åˆ†çš„å¼€å‘ç¯å¢ƒ(æ¯”å¦‚æœ‰äº†ä¸€äº› Python åŒ…, Gem è£…å¥½äº†ä¸€éƒ¨åˆ†).æ–°ä¸€ä»£çš„ä¸€æ¬¡æ„å»ºåˆ°å¤„è¿è¡Œ.æ®è¯´å¼€å§‹æ˜¯åŸºäº LXC ,è¿™ä¸ªè¿˜æ²¡æœ‰ç ”ç©¶.ä¸è¿‡å·²ç»å®£å¸ƒå°†æ¥ä¸å†ä¾èµ–è¿™ä¸ª, è€Œæ˜¯å˜æˆå¯æ’æ‹”çš„æ’ä»¶, æ’ä»¶æµè¡Œå•Š.</p><p>è¿™è´§åƒæ˜¯ä¸ªè™šæ‹Ÿæœº,ä½†ä¸å¸¦å›¾å½¢ç•Œé¢,å½“ç„¶å¯¹æˆ‘è¿™ç§å‘½ä»¤æ§æ²¡å½±å“.è¯´èµ·æ¥åƒæ˜¯é€šè¿‡ SSH è®¿é—®Vbox.</p><h1 id=å¼€å§‹ä½¿ç”¨>å¼€å§‹ä½¿ç”¨ <a href=#%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8 class=anchor>ğŸ”—</a></h1><p>æ³¨å†Œ docker.io dockerhub å¸å· ä¸æ³¨å†Œä¹Ÿå¯ä»¥ç”¨&mldr;</p><ol><li>curl -s <a href=https://get.docker.io/ubuntu/>https://get.docker.io/ubuntu/</a> | sudo sh</li><li>sudo docker run -i -t ubuntu /bin/bash</li></ol><p>ä¸‹è½½çš„æ˜¯ä¸€ä¸ªubuntué•œåƒ æˆ–è€… ubuntu:14.04 æŒ‡å®šæ˜¯ 14.04 ç‰ˆæœ¬</p><p>ä¸‹è½½åçš„é•œåƒç§°ä¸ºå®¹å™¨, åœ¨å®¹å™¨å†…å¯ä»¥è¿è¡Œåº”ç”¨å¦‚ bash</p><ol start=3><li>sudo docker run ubuntu:14.04 /bin/echo &lsquo;Hello world&rsquo;</li></ol><p>è¾“å‡º Hello world åœ¨å®¹å™¨å†…æ‰§è¡Œ, è¿”å›ç»“æœ</p><ol start=4><li>sudo docker run -t -i ubuntu:14.04 /bin/bash</li></ol><p>æ‰§è¡Œäº¤äº’å¼å®¹å™¨, ä¸è¿‡æ˜¯åœ¨14.04ç‰ˆæœ¬ä¸­è¿è¡Œçš„</p><ol start=5><li>æ¯æ¬¡ docker run çš„æ—¶å€™å°±æ˜¯é€šè¿‡ä¸€ä¸ªé•œåƒåˆ›å»ºäº†ä¸€ä¸ªå®¹å™¨, å¦‚åå°å®¹å™¨</li></ol><p>å®ˆæŠ¤è¿›ç¨‹ sudo docker run -d ubuntu:14.04 /bin/sh -c &ldquo;while true; do echo hello world; sleep 1; done&rdquo;</p><p>è„šæœ¬ä¼šä¸€ç›´è¾“å‡º"hello word"</p><p>åªæœ‰é€šè¿‡ sudo docker ps æŸ¥çœ‹åå°è¿›ç¨‹æ‰¾åˆ°æŒ‡ä»£åç§°</p><p>ç„¶åç”¨ sudo docker log short-name æŸ¥çœ‹ç»“æœ</p><ol start=6><li><p>sudo docker stop ç»“æŸè¿™ä¸ªåå°</p></li><li><p>åªè¾“å…¥dockeræ²¡æœ‰ä»»ä½•å…¶å®ƒé€‰é¡¹æ¥æŸ¥çœ‹dockerå®¢æˆ·ç«¯æ‰€æœ‰çš„å‘½ä»¤</p></li><li><p>è¾“å…¥Docker [command]ï¼Œè¿™é‡Œä¼šçœ‹åˆ°dockerå‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•ï¼š</p></li></ol><p>$ sudo docker attach</p><ol start=9><li>sudo docker run -d -P training/webapp python app.py</li></ol><p>-d åå°æ‰§è¡Œ</p><p>-P dockerç½‘ç»œç«¯å£ä»ä¸»æœºæ˜ å°„åˆ°å®¹å™¨</p><p>training/webapp æŒ‡å®šé•œåƒ</p><p>python å®¹å™¨</p><p>see ubuntu version:
cat /etc/issue
see whoami
whoami</p><ol start=10><li>æŸ¥çœ‹webåº”ç”¨å®¹å™¨</li></ol><p>sudo docker ps -l # -l è¿”å›æœ€åçš„å®¹å™¨çŠ¶æ€</p><p>CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
9a57847b4be6 training/webapp:latest &ldquo;python app.py&rdquo; 5 minutes ago Up 5 minutes 0.0.0.0:49153->5000/tcp trusting_sammet</p><p>å®¹å™¨å¼€å¯ 5000(python) ç«¯å£æ˜ å°„åˆ°ä¸»æœº 49153 ä¸Š</p><p>å¯ä»¥è®¿é—® localhost:49153 åˆ°å®¹å™¨çš„webappä¸Š</p><ol start=11><li>ä½¿ç”¨docker portå¯ä»¥æŒ‡å®šå®¹å™¨IDæˆ–è€…åå­—æ˜ å°„åˆ°ä¸»æœºç«¯çš„ç«¯å£å·</li></ol><p>sudo docker port nostalgic_morse 5000</p><p>æŸ¥çœ‹åˆ°ç«¯å£5000æ˜ å°„åˆ°å®¹å™¨å¤–çš„ä¸»æœºç«¯å£</p><ol start=12><li>sudo docker logs -f hungry_stallman</li></ol><p>æŸ¥çœ‹å®¹å™¨å†…åº”ç”¨å‘ç”Ÿçš„æ—¥å¿—</p><ol start=13><li>sudo docker top hungry_stallman</li></ol><p>æŸ¥çœ‹åº”ç”¨çš„è¿‡ç¨‹</p><ol start=14><li><p>ä½¿ç”¨docker inspectæ¥æŸ¥çœ‹Dockerçš„åº•å±‚ä¿¡æ¯ã€‚å®ƒä¼šè¿”å›ä¸€ä¸ªJSONæ–‡ä»¶è®°å½•dockerå®¹å™¨çš„é…ç½®å’ŒçŠ¶æ€ä¿¡æ¯</p></li><li><p>sudo docker stop hungry_stallman</p><p>åœæ­¢å®¹å™¨</p><p>sudo docker start hungry_stallman</p><p>é‡å¯å®¹å™¨</p><p>sudo docker rm hungry_stallman</p><p>åˆ é™¤å®¹å™¨ == æˆ‘ä»¬ä¸èƒ½åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p></li><li><p>è·å–ä¸€ä¸ªæ–°çš„é•œåƒ</p></li></ol><p>sudo docker run -t -i training/sinatra /bin/bash</p><p>è¿›å…¥å®¹å™¨çš„bashä¸­</p><ol start=17><li></li></ol><p>è¿è¡Œä¸€ä¸ªå¸¦æ ‡ç­¾é•œåƒçš„å®¹å™¨ï¼š</p><p>$ sudo docker run -t -i ubuntu:14.04 /bin/bash</p><p>ä¾‹å¦‚ä½ åªä½¿ç”¨Ubuntuï¼ŒDockerå°†é»˜è®¤ä½¿ç”¨Ubuntu:latesté•œåƒã€‚</p><ol start=18><li><p>sudo docker pull centos è·å–æ–°é•œåƒ</p></li><li><p>å¦‚ä½•æŠŠå¤šä¸ªdockerå®¹å™¨è¿æ¥åœ¨ä¸€èµ·æ„å»ºä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åº</p></li><li><p><em>HOWTO</em> é€€å‡ºdocker ä¿ç•™dockeré…ç½®&mldr;</p></li></ol><p>ä¸€å¼€å§‹æƒ³ç€è¯•è¯• perl6 å‘¢,è°çŸ¥é“é…ç½®å¥½ vim (å¯¹çš„, vim éƒ½æ²¡æœ‰, ä¹Ÿæ²¡æœ‰å›¾å½¢ç•Œé¢ å•Š) é€€å‡ºä»¥åå°±ä¸€åˆ‡é‡ç½®äº†, éš¾é“è¦æŒ‰ç…§ DOCKERFILE ä»€ä¹ˆçš„æ­¥éª¤èµ°å—??? ä»¥åå†çœ‹å§. Perl çœ‹æ¥å¾—å†æ‰¾æ—¶é—´çœ‹çœ‹äº†.</p></div><hr><script src=https://utteranc.es/client.js repo=supeterlau/supeterlau.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></section></div><div class=side><div class=side-recent><h2 class=side-title>Recent Posts</h2><hr><ul><li><a href=/posts/2023-06-05-emacs-tips/>Emacs Tips</a></li><li><a href=/posts/2023-06-05-ssh-tips/>SSH Tips</a></li><li><a href=/posts/hugo-tips/>Hugo Tips</a></li><li><a href=/posts/postgresql-logical-replication-with-docker-and-elixir/>PostgreSQL Logical Replication with Docker and Elixir</a></li><li><a href=/posts/missing-steps-of-heroku-docker/>Missing Steps of Heroku</a></li></ul></div><div class=side-categories><h2>Categories</h2><hr><ul><li><a href=/categories/ai>ai(1)</a></li><li><a href=/categories/blockchain>blockchain(1)</a></li><li><a href=/categories/dart>dart(1)</a></li><li><a href=/categories/dev>dev(3)</a></li><li><a href=/categories/note>note(1)</a></li></ul></div><div class=side-tags><h2>Tags</h2><hr><ul><li><a href=/tags/alasmixer>alasmixer (1)</a></li><li><a href=/tags/audio>audio (1)</a></li><li><a href=/tags/bash>bash (1)</a></li><li><a href=/tags/blog>blog (1)</a></li><li><a href=/tags/django>django (1)</a></li><li><a href=/tags/docker>docker (2)</a></li><li><a href=/tags/dota2>dota2 (1)</a></li><li><a href=/tags/elixir>elixir (1)</a></li><li><a href=/tags/ethereum>ethereum (1)</a></li><li><a href=/tags/flask>flask (1)</a></li><li><a href=/tags/go>go (1)</a></li><li><a href=/tags/goeast>goeast (1)</a></li><li><a href=/tags/hexo>hexo (3)</a></li><li><a href=/tags/hugo>hugo (1)</a></li><li><a href=/tags/image>image (1)</a></li><li><a href=/tags/jamstack>jamstack (1)</a></li><li><a href=/tags/lisp>lisp (1)</a></li><li><a href=/tags/macos>macos (2)</a></li><li><a href=/tags/node>node (1)</a></li><li><a href=/tags/openai>openai (1)</a></li><li><a href=/tags/permission>permission (1)</a></li><li><a href=/tags/pg>pg (1)</a></li><li><a href=/tags/php>php (1)</a></li><li><a href=/tags/python>python (3)</a></li><li><a href=/tags/ror>ror (1)</a></li><li><a href=/tags/ruby>ruby (1)</a></li><li><a href=/tags/sae>sae (1)</a></li><li><a href=/tags/safe>safe (1)</a></li><li><a href=/tags/ssg>ssg (1)</a></li><li><a href=/tags/ssh>ssh (2)</a></li><li><a href=/tags/sudo>sudo (1)</a></li><li><a href=/tags/test>test (1)</a></li><li><a href=/tags/tips>tips (2)</a></li><li><a href=/tags/ubuntu>ubuntu (1)</a></li><li><a href=/tags/vagrant>vagrant (1)</a></li><li><a href=/tags/video>video (1)</a></li><li><a href=/tags/web>web (2)</a></li><li><a href=/tags/%E7%BF%BB%E8%AF%91>ç¿»è¯‘ (1)</a></li></ul></div></div></main><footer class=footer><div class=footer-row><a class=footer-item href=https://www.peterlau.xyz/posts/index.xml>Feed of Posts
<i class=icofont-rss></i></a></div><div class=footer-row><span class=footer-item>Copyright <a href=https://creativecommons.org/licenses/by/4.0/>CC BY-4.0</a> 2022</span></div><div class=footer-row><span class=footer-item>Powered by <a href=https://gohugo.io>Hugo</a></span>
<span class=footer-item>Theme <a href=https://github.com/leafee98/hugo-theme-flat>hugo-theme-flat</a></span></div></footer></body></html>