<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>docker on CodeMist</title><link>https://www.peterlau.xyz/tags/docker/</link><description>Recent content in docker on CodeMist</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 29 Sep 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://www.peterlau.xyz/tags/docker/index.xml" rel="self" type="application/rss+xml"/><item><title>PostgreSQL Logical Replication with Docker and Elixir</title><link>https://www.peterlau.xyz/posts/postgresql-logical-replication-with-docker-and-elixir/</link><pubDate>Thu, 29 Sep 2022 00:00:00 +0000</pubDate><guid>https://www.peterlau.xyz/posts/postgresql-logical-replication-with-docker-and-elixir/</guid><description>postgresql, logical replication, docker, elixir, wal2json</description></item><item><title>å¼€å§‹ä½¿ç”¨Docker</title><link>https://www.peterlau.xyz/posts/docker-newer/</link><pubDate>Fri, 05 Sep 2014 20:16:09 +0000</pubDate><guid>https://www.peterlau.xyz/posts/docker-newer/</guid><description> &lt;h1 id="ä»€ä¹ˆæ˜¯-docker">ä»€ä¹ˆæ˜¯ Docker? &lt;a href="#%e4%bb%80%e4%b9%88%e6%98%af-docker" class="anchor">ðŸ”—&lt;/a>&lt;/h1>&lt;p>Goè¯­è¨€ç¼–å†™çš„åº”ç”¨å®¹å™¨.æ‰€è°“åº”ç”¨å®¹å™¨,å°±æ˜¯å¯ä»¥åƒè™šæ‹Ÿæœºé‚£æ ·ä¸‹è½½ä¸‹æ¥,å·²ç»é…ç½®å¥½å¤§éƒ¨åˆ†çš„å¼€å‘çŽ¯å¢ƒ(æ¯”å¦‚æœ‰äº†ä¸€äº› Python åŒ…, Gem è£…å¥½äº†ä¸€éƒ¨åˆ†).æ–°ä¸€ä»£çš„ä¸€æ¬¡æž„å»ºåˆ°å¤„è¿è¡Œ.æ®è¯´å¼€å§‹æ˜¯åŸºäºŽ LXC ,è¿™ä¸ªè¿˜æ²¡æœ‰ç ”ç©¶.ä¸è¿‡å·²ç»å®£å¸ƒå°†æ¥ä¸å†ä¾èµ–è¿™ä¸ª, è€Œæ˜¯å˜æˆå¯æ’æ‹”çš„æ’ä»¶, æ’ä»¶æµè¡Œå•Š.&lt;/p>
&lt;p>è¿™è´§åƒæ˜¯ä¸ªè™šæ‹Ÿæœº,ä½†ä¸å¸¦å›¾å½¢ç•Œé¢,å½“ç„¶å¯¹æˆ‘è¿™ç§å‘½ä»¤æŽ§æ²¡å½±å“.è¯´èµ·æ¥åƒæ˜¯é€šè¿‡ SSH è®¿é—®Vbox.&lt;/p>
&lt;h1 id="å¼€å§‹ä½¿ç”¨">å¼€å§‹ä½¿ç”¨ &lt;a href="#%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8" class="anchor">ðŸ”—&lt;/a>&lt;/h1>&lt;p>æ³¨å†Œ docker.io dockerhub å¸å· ä¸æ³¨å†Œä¹Ÿå¯ä»¥ç”¨&amp;hellip;&lt;/p>
&lt;ol>
&lt;li>curl -s &lt;a href="https://get.docker.io/ubuntu/">https://get.docker.io/ubuntu/&lt;/a> | sudo sh&lt;/li>
&lt;li>sudo docker run -i -t ubuntu /bin/bash&lt;/li>
&lt;/ol>
&lt;p>ä¸‹è½½çš„æ˜¯ä¸€ä¸ªubuntué•œåƒ æˆ–è€… ubuntu:14.04 æŒ‡å®šæ˜¯ 14.04 ç‰ˆæœ¬&lt;/p>
&lt;p>ä¸‹è½½åŽçš„é•œåƒç§°ä¸ºå®¹å™¨, åœ¨å®¹å™¨å†…å¯ä»¥è¿è¡Œåº”ç”¨å¦‚ bash&lt;/p>
&lt;ol start="3">
&lt;li>sudo docker run ubuntu:14.04 /bin/echo &amp;lsquo;Hello world&amp;rsquo;&lt;/li>
&lt;/ol>
&lt;p>è¾“å‡º Hello world åœ¨å®¹å™¨å†…æ‰§è¡Œ, è¿”å›žç»“æžœ&lt;/p>
&lt;ol start="4">
&lt;li>sudo docker run -t -i ubuntu:14.04 /bin/bash&lt;/li>
&lt;/ol>
&lt;p>æ‰§è¡Œäº¤äº’å¼å®¹å™¨, ä¸è¿‡æ˜¯åœ¨14.04ç‰ˆæœ¬ä¸­è¿è¡Œçš„&lt;/p>
&lt;ol start="5">
&lt;li>æ¯æ¬¡ docker run çš„æ—¶å€™å°±æ˜¯é€šè¿‡ä¸€ä¸ªé•œåƒåˆ›å»ºäº†ä¸€ä¸ªå®¹å™¨, å¦‚åŽå°å®¹å™¨&lt;/li>
&lt;/ol>
&lt;p>å®ˆæŠ¤è¿›ç¨‹ sudo docker run -d ubuntu:14.04 /bin/sh -c &amp;ldquo;while true; do echo hello world; sleep 1; done&amp;rdquo;&lt;/p>
&lt;p>è„šæœ¬ä¼šä¸€ç›´è¾“å‡º&amp;quot;hello word&amp;quot;&lt;/p>
&lt;p>åªæœ‰é€šè¿‡ sudo docker ps æŸ¥çœ‹åŽå°è¿›ç¨‹æ‰¾åˆ°æŒ‡ä»£åç§°&lt;/p>
&lt;p>ç„¶åŽç”¨ sudo docker log short-name æŸ¥çœ‹ç»“æžœ&lt;/p>
&lt;ol start="6">
&lt;li>
&lt;p>sudo docker stop ç»“æŸè¿™ä¸ªåŽå°&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åªè¾“å…¥dockeræ²¡æœ‰ä»»ä½•å…¶å®ƒé€‰é¡¹æ¥æŸ¥çœ‹dockerå®¢æˆ·ç«¯æ‰€æœ‰çš„å‘½ä»¤&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è¾“å…¥Docker [command]ï¼Œè¿™é‡Œä¼šçœ‹åˆ°dockerå‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•ï¼š&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>$ sudo docker attach&lt;/p>
&lt;ol start="9">
&lt;li>sudo docker run -d -P training/webapp python app.py&lt;/li>
&lt;/ol>
&lt;p>-d åŽå°æ‰§è¡Œ&lt;/p>
&lt;p>-P dockerç½‘ç»œç«¯å£ä»Žä¸»æœºæ˜ å°„åˆ°å®¹å™¨&lt;/p>
&lt;p>training/webapp æŒ‡å®šé•œåƒ&lt;/p>
&lt;p>python å®¹å™¨&lt;/p>
&lt;p>see ubuntu version:
cat /etc/issue
see whoami
whoami&lt;/p>
&lt;ol start="10">
&lt;li>æŸ¥çœ‹webåº”ç”¨å®¹å™¨&lt;/li>
&lt;/ol>
&lt;p>sudo docker ps -l # -l è¿”å›žæœ€åŽçš„å®¹å™¨çŠ¶æ€&lt;/p>
&lt;p>CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
9a57847b4be6 training/webapp:latest &amp;ldquo;python app.py&amp;rdquo; 5 minutes ago Up 5 minutes 0.0.0.0:49153-&amp;gt;5000/tcp trusting_sammet&lt;/p>
&lt;p>å®¹å™¨å¼€å¯ 5000(python) ç«¯å£æ˜ å°„åˆ°ä¸»æœº 49153 ä¸Š&lt;/p>
&lt;p>å¯ä»¥è®¿é—® localhost:49153 åˆ°å®¹å™¨çš„webappä¸Š&lt;/p>
&lt;ol start="11">
&lt;li>ä½¿ç”¨docker portå¯ä»¥æŒ‡å®šå®¹å™¨IDæˆ–è€…åå­—æ˜ å°„åˆ°ä¸»æœºç«¯çš„ç«¯å£å·&lt;/li>
&lt;/ol>
&lt;p>sudo docker port nostalgic_morse 5000&lt;/p>
&lt;p>æŸ¥çœ‹åˆ°ç«¯å£5000æ˜ å°„åˆ°å®¹å™¨å¤–çš„ä¸»æœºç«¯å£&lt;/p>
&lt;ol start="12">
&lt;li>sudo docker logs -f hungry_stallman&lt;/li>
&lt;/ol>
&lt;p>æŸ¥çœ‹å®¹å™¨å†…åº”ç”¨å‘ç”Ÿçš„æ—¥å¿—&lt;/p>
&lt;ol start="13">
&lt;li>sudo docker top hungry_stallman&lt;/li>
&lt;/ol>
&lt;p>æŸ¥çœ‹åº”ç”¨çš„è¿‡ç¨‹&lt;/p>
&lt;ol start="14">
&lt;li>
&lt;p>ä½¿ç”¨docker inspectæ¥æŸ¥çœ‹Dockerçš„åº•å±‚ä¿¡æ¯ã€‚å®ƒä¼šè¿”å›žä¸€ä¸ªJSONæ–‡ä»¶è®°å½•dockerå®¹å™¨çš„é…ç½®å’ŒçŠ¶æ€ä¿¡æ¯&lt;/p>
&lt;/li>
&lt;li>
&lt;p>sudo docker stop hungry_stallman&lt;/p>
&lt;p>åœæ­¢å®¹å™¨&lt;/p>
&lt;p>sudo docker start hungry_stallman&lt;/p>
&lt;p>é‡å¯å®¹å™¨&lt;/p>
&lt;p>sudo docker rm hungry_stallman&lt;/p>
&lt;p>åˆ é™¤å®¹å™¨ == æˆ‘ä»¬ä¸èƒ½åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨&lt;/p>
&lt;/li>
&lt;li>
&lt;p>èŽ·å–ä¸€ä¸ªæ–°çš„é•œåƒ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>sudo docker run -t -i training/sinatra /bin/bash&lt;/p>
&lt;p>è¿›å…¥å®¹å™¨çš„bashä¸­&lt;/p>
&lt;ol start="17">
&lt;li>&lt;/li>
&lt;/ol>
&lt;p>è¿è¡Œä¸€ä¸ªå¸¦æ ‡ç­¾é•œåƒçš„å®¹å™¨ï¼š&lt;/p>
&lt;p>$ sudo docker run -t -i ubuntu:14.04 /bin/bash&lt;/p>
&lt;p>ä¾‹å¦‚ä½ åªä½¿ç”¨Ubuntuï¼ŒDockerå°†é»˜è®¤ä½¿ç”¨Ubuntu:latesté•œåƒã€‚&lt;/p>
&lt;ol start="18">
&lt;li>
&lt;p>sudo docker pull centos èŽ·å–æ–°é•œåƒ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¦‚ä½•æŠŠå¤šä¸ªdockerå®¹å™¨è¿žæŽ¥åœ¨ä¸€èµ·æž„å»ºä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åº&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;em>HOWTO&lt;/em> é€€å‡ºdocker ä¿ç•™dockeré…ç½®&amp;hellip;&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>ä¸€å¼€å§‹æƒ³ç€è¯•è¯• perl6 å‘¢,è°çŸ¥é“é…ç½®å¥½ vim (å¯¹çš„, vim éƒ½æ²¡æœ‰, ä¹Ÿæ²¡æœ‰å›¾å½¢ç•Œé¢ å•Š) é€€å‡ºä»¥åŽå°±ä¸€åˆ‡é‡ç½®äº†, éš¾é“è¦æŒ‰ç…§ DOCKERFILE ä»€ä¹ˆçš„æ­¥éª¤èµ°å—??? ä»¥åŽå†çœ‹å§. Perl çœ‹æ¥å¾—å†æ‰¾æ—¶é—´çœ‹çœ‹äº†.&lt;/p></description></item></channel></rss>